<div class="rounded-md p-6 bg-white">
    <p-table #dt2 [value]="filterPayments" [tableStyle]="{ 'min-width': '60rem' }"
        [paginator]="true" [rows]="10" [rowsPerPageOptions]="[5, 10, 20]"
        [globalFilterFields]="['amount', 'paidAt']">

        <ng-template #caption>
            <div class="flex items-center justify-between">
                <span class="text-xl font-bold">Payments</span>
                <p-select [options]="options" [(ngModel)]="selectedOption"
                    placeholder="Select status" class="w-full md:w-56"
                    (onChange)="onSelectChange()">
                </p-select>
            </div>
        </ng-template>
        <ng-template #header>
            <tr>
                <th style="width: 4%">#</th>
                <th>Customer</th>
                <th pSortableColumn="amount">Amount <p-sortIcon field="amount" /></th>
                <th>Payment Method</th>
                <th>Status</th>
                <th pSortableColumn="paidAt">PaidAt <p-sortIcon field="paidAt" /></th>
            </tr>
        </ng-template>
        <ng-template #body let-item let-rowIndex="rowIndex">
            <tr>
                <td>{{ rowIndex + 1 }}</td>
                <td>{{ item.userName }}</td>
                <td>
                    {{ item.amount.toLocaleString('vi-VN') }}
                </td>
                <td>
                    {{ item.paymentMethod }}
                </td>
                <td>
                    {{ item.status }}
                </td>
                <td>
                    {{ item.getFormatDate() }}
                </td>
            </tr>
        </ng-template>
        <ng-template #footer>
            <tr>
                <td colspan="7" class="custom-footer">
                    In total there are {{ filterPayments.length }} orders.
                    Total: {{ total.toLocaleString('vi-VN') }}
                </td>
            </tr>
        </ng-template>

    </p-table>
</div>